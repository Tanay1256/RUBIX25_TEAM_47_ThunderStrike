<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Portal</title>
  <link rel="stylesheet" type="text/css" href="../css/admin.css">
</head>

<body>
  <div id="head" class="text-center">
    <img id="yy" src="../assets/title2.png">
    <br />
  </div>

  <!-- Section for Voting Options -->
  <div class="container">
    <legend>Choose Role Based Voting</legend>
    <div class="text-center">
      <label>
        <input type="radio" name="votingType" value="candidate" checked>
        <p style="font-size:large;color: white;">Candidate Voting</p>
      </label>
      <label>
        <input type="radio" name="votingType" value="policy">
        <p style="font-size: large;color:white;">Policy Voting</p>
      </label>
    </div>
  </div>

  <!-- Shared Section for Candidate and Policy -->
  <div class="container" id="votingSection">
    <legend id="sectionTitle">Add Candidate</legend>
    <table class="table text-center">
      <tr>
        <th>Name</th>
        <td><input id="name" type="text" name="name" placeholder="Candidate's name" autocomplete="off"></td>
        <th>Party/Type</th>
        <td>
          <input id="party" type="text" name="party" placeholder="Candidate's party">
          <select id="policyType" style="display: none;">
            <option value="environment">Environment</option>
            <option value="economy">Economy</option>
            <option value="education">Education</option>
          </select>
        </td>
      </tr>
    </table>
    <input id="addCandidate" type="submit" value="Add Candidate">
    <p id="Aday"></p>
  </div>

  <!-- Define Voting Dates -->
  <div class="container">
    <legend>Define Voting Dates</legend>
    <table class="table text-center">
      <tr>
        <th>Start date</th>
        <td><input id="startDate" type="date"></td>
        <th>End date</th>
        <td><input id="endDate" type="date"></td>
      </tr>
    </table>
    <input id="addDate" type="submit" value="Define Dates">
    <p id="dateMsg"></p>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <script src="../dist/app.bundle.js" type="module"></script>
  <script>
    // JavaScript to Toggle Sections
    const votingTypeRadios = document.getElementsByName("votingType");
    const sectionTitle = document.getElementById("sectionTitle");
    const nameField = document.getElementById("name");
    const partyField = document.getElementById("party");
    const policyTypeDropdown = document.getElementById("policyType");
    const addCandidateButton = document.getElementById("addCandidate");

    // Add event listeners to radio buttons
    votingTypeRadios.forEach(radio => {
      radio.addEventListener("change", () => {
        if (radio.value === "candidate") {
          sectionTitle.textContent = "Add Candidate";
          nameField.placeholder = "Candidate's name";
          partyField.placeholder = "Candidate's party";
          partyField.style.display = "block";
          policyTypeDropdown.style.display = "none";
          addCandidateButton.value = "Add Candidate";
        } else {
          sectionTitle.textContent = "Add Policy";
          nameField.placeholder = "Policy name";
          partyField.style.display = "none";
          policyTypeDropdown.style.display = "block";
          addCandidateButton.value = "Add Policy";
        }
      });
    });
  </script>
</body>

</html>